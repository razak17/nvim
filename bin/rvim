#!/bin/sh

export RVIM_PLUGINS_ENABLED='1'
export RVIM_LSP_ENABLED='1'
export RVIM_AI_ENABLED='1'
export RVIM_PLUGINS_MINIMAL='0'

launch_nvim() {
	NVIM_APPNAME=rvim nvim "$@"
}

while [ "$#" -gt 0 ]; do
	arg=$1

	case "$arg" in
	--no-plugins)
		export RVIM_PLUGINS_ENABLED='0'
		shift
		;;
	--no-lsp)
		export RVIM_LSP_ENABLED='0'
		shift
		;;
	--no-ai)
		export RVIM_AI_ENABLED='0'
		shift
		;;
	--minimal)
		export RVIM_PLUGINS_MINIMAL='1'
		shift
		;;
	--none)
		export RVIM_PLUGINS_ENABLED='0'
		export RVIM_LSP_ENABLED='0'
		shift
		;;
	*)
		launch_nvim "$@"
		exit 0
		;;
	esac
done

launch_nvim "$@"
